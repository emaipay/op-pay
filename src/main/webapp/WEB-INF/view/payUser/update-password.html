[#include "/common/taglibs.html"/]
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">管理员密码修改</h4>
        </div>
        <div class="modal-control">
            <form id="updateDTO" method="POST" class="form-horizontal m-t" action="${ctx}/back/payUser/update-pwLogin">
                <div class="modal-body">
                    <div class="control-group form-group">
                        <label class="control-label">用户名</label>
                        <div class="controls">
                            <input id="userName" name="userName" value="[@shiro.principal/]" disabled="disabled" class="form-control input-s-xlg" />
                        </div>
                    </div>
                    <div class="control-group form-group">
                        <label class="control-label">原登录密码</label>
                        <div class="controls">
                            <input id="oldPwdLogin" name="oldPwdLogin" class="form-control input-s-xlg">
                        </div>
                    </div>
                    <div class="control-group form-group">
                        <label class="control-label">新登录密码</label>
                            <div class="controls">
                                <input id="pwdLogin" name="pwdLogin" type="password" class="form-control input-s-xlg" >
                            </div>
                    </div>
                    <div class="control-group form-group">
                        <label class="control-label">确认新密码</label>
                        <div class="controls">
                            <input id="confirmLoginPassword" name="confirmLoginPassword" type="password" class="form-control input-s-xlg" >
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn default" data-dismiss="modal">取消</button>
                    <button type="button" class="btn blue btn-success">保存</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">
    $("#updateDTO").validate({
        rules:{
            oldPwdLogin:"required",
            pwdLogin:"required",
            confirmLoginPassword: {
                required:true,
                equalTo:'#pwdLogin'
            }
        },
        messages:{
            oldPwdLogin:{
                required:"原登录密码不能为空!"
            },
            pwdLogin:{
                required:"登录密码不能为空!"
            },
            confirmLoginPassword:{
                required:"确认登录密码不能为空!",
                equalTo:"必须与登录密码相同!"
            }
        }
    });
</script>