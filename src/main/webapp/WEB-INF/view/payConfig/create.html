[#include "/common/taglibs.html"/]

<div class="modal-dialog modal-lg">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true"></button>
			<h4 class="modal-title">新增支付平台配置</h4>
		</div>

		<div class="modal-control">
			<div id="second-ajax-modal"
				class="modal fade bs-modal bs-modal-large" tabindex="-1"></div>
			[@form.form commandName="createDTO" method="POST"
			class="form-horizontal"] <input type="hidden" name="format"
				value="json">
				<input type="hidden" name="createdBy" value="管理员">
			<div class="modal-body">
				<div class="form-body">
					<div class="form-group">
						<label class="col-md-3 control-label">支付平台code</label>
						<div class="col-md-9">
							<div class="input-icon">
								[@spring.bind path="platformType"] <input id="${status.expression}"
									name="${status.expression}" type="text" class="form-control"
									placeholder="请输入支付平台code"> [/@spring.bind]
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label">类路径</label>
						<div class="col-md-9">
							<div class="input-icon">
								[@spring.bind path="classPath"] <input id="${status.expression}"
									name="${status.expression}" type="text" class="form-control"
									placeholder="请输入类路径"> [/@spring.bind]
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label">反射方法</label>
						<div class="col-md-9">
							<div class="input-icon">
								[@spring.bind path="classMethod"] <input id="${status.expression}"
									name="${status.expression}" type="text" class="form-control"
									placeholder="请输入反射方法"> [/@spring.bind]
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label">方法类型</label>
						<div class="col-md-9">
							<div class="input-icon">
								[@spring.bind path="methodType"] 
								 <select name="${status.expression}" class="form-control">
				                    [#list enums["com.hitler.entity.PayConfig$MethodType"]?values as item]
				                    	<option value="${item.value}">${item.name()}</option>
				                    [/#list]
				               </select>
									 [/@spring.bind]
							</div>
						</div>
					</div>
					
					 
				 </div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn default" data-dismiss="modal">关闭</button>
				<button type="button" class="btn blue btn-success"
					>提交</button>
			</div>
			[/@form.form]
		</div>
	</div>
</div>

<script type="text/javascript">

	function validateForm() {
		$('#createDTO').submit();
	}

	$('#createDTO').validate({
		rules : {

			platformType : {
				required : true
			},
			classPath : {
				required : true
			},
			classMethod : {
				required : true
			},
			methodType : {
				required : true
			}
		},
		messages : {
			platformType : {
				required : "支付平台code不能为空！",
			},
			classPath : {
				required : " 类路径不能为空！"
			},
			classMethod : {
				required : "反射方法不能为空！"
			},
			methodType : {
				required : "方法类型不能为空！"
			}
		}
	});
</script>